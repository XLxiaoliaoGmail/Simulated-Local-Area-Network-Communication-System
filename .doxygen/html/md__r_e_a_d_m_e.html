<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Simulated-Local-Area-Network-Communication-System: Local Network Communication Simulation System</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Simulated-Local-Area-Network-Communication-System
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Local Network Communication Simulation System</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md48"></a></p>
<p>This project is divided into <code>physical simulation layer</code> and <code>protocol layer</code>.</p>
<p>For detailed information, please refer to the <a href="https://github.com/XLxiaoliaoGmail/Simulated-Local-Area-Network-Communication-System/blob/master/doc/API.md">API documentation</a>.</p>
<h1><a class="anchor" id="autotoc_md49"></a>
physical simulation layer</h1>
<p>The physical simulation layer simulates the key behaviors of lower-layer firmware of the 802.15.4, which is a widely used protocol for low-rate wireless personal area networks (LR-WPANs) , including message sending and listening, channel occupancy and waiting, and communication interference. It also creates a virtual experimental environment that allows these devices to operate in the time dimension.</p>
<p>The following diagram shows how the simulation environment operates.</p>
<p><img src="https://github.com/user-attachments/assets/054032d2-3df9-44ad-b0d3-0c4a3676767f" alt="" width="70%" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md50"></a>
protocol layer</h1>
<p>The protocol layer simulates the behavior of real devices. Users can easily use the protocol layer's API directly without needing to worry about the underlying implementation.</p>
<p>The following diagram demonstrates the class relationship between the "communication protocol specialized device" and the "underlying physical device".</p>
<p><img src="https://github.com/user-attachments/assets/dc4a513e-795a-40a1-a022-533d12ee1d00" alt="" width="70%" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md51"></a>
demo (main function)</h1>
<p>The main function demonstrates an instance of this system. In this experiment, a server, 10 robots, and 10 charging stations are started at the 10th tick. Robots and charging stations log in to the server using keys after startup. At the 5000th tick, a "robot requests charging" event occurs. Each device's behavior is logged in detail to the console, allowing the operator to see what happens and make further optimizations and adjustments. The output\main.exe is the compiled file. You can open it if you trust it.</p>
<p>It simulated the following events:</p>
<ol type="1">
<li>Due to some reasons, the robot needs to charge and sends a request to the server.</li>
<li>The server finds an available charging station and sends the communication address, location, and handshake key to the robot, then sends the handshake key to the charging station.</li>
<li>The robot uses the key to handshake with the charging station.</li>
<li>The robot starts charging.</li>
<li>During charging, the robot and the charging station maintain a keep-alive connection.</li>
<li>Charging is completed, and the keep-alive connection is canceled.</li>
<li>The charging station returns to idle status.</li>
</ol>
<p>The following diagram delays the process of this experiment.</p>
<p><img src="https://github.com/user-attachments/assets/b7969871-1b95-48f9-a388-333767f2f0a6" alt="" width="70%" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md52"></a>
Overview - Physical Simulation Layer</h1>
<h2><a class="anchor" id="autotoc_md53"></a>
Environment</h2>
<p>The <code><a class="el" href="class_environment.html">Environment</a></code> class simulates the physical environment and basic simulation functions. Time in the simulation is measured in ticks, and certain events may be triggered at specific ticks to achieve the simulation effect.</p>
<h2><a class="anchor" id="autotoc_md54"></a>
SimEvent</h2>
<p><code><a class="el" href="class_sim_event.html">SimEvent</a></code> is an auxiliary class for <code><a class="el" href="class_environment.html">Environment</a></code>, recording events that occur at specific times and triggering them when the simulation reaches that moment. This class facilitates setting up events in the simulation environment.</p>
<h2><a class="anchor" id="autotoc_md55"></a>
Channel</h2>
<p>The <code><a class="el" href="class_channel.html" title="Represents a communication channel between devices.">Channel</a></code> class simulates the behavior of various channels in the environment, including channel occupation and signal interference. An <code><a class="el" href="class_environment.html">Environment</a></code> instance may contain multiple <code>Channels</code>. When a <code><a class="el" href="class_device.html">Device</a></code> sends a message to a <code><a class="el" href="class_channel.html" title="Represents a communication channel between devices.">Channel</a></code> and the message is not interfered with, it will be broadcast to all <code>Devices</code> listening to that <code><a class="el" href="class_channel.html" title="Represents a communication channel between devices.">Channel</a></code>.</p>
<h2><a class="anchor" id="autotoc_md56"></a>
Device</h2>
<p>The <code><a class="el" href="class_device.html">Device</a></code> class simulates the physical implementation of devices, each with its own address. Devices can send messages to a <code><a class="el" href="class_channel.html" title="Represents a communication channel between devices.">Channel</a></code> (sending messages consumes ticks, during which the device is busy and the channel is occupied). Devices also implement basic channel occupation-waiting mechanisms and message queue mechanisms (if multiple message sending requests occur in a short time, messages are stored in a queue and sent sequentially). Devices can listen to messages on a <code><a class="el" href="class_channel.html" title="Represents a communication channel between devices.">Channel</a></code> (each device can only listen to one channel at a time).</p>
<p>The following diagram demonstrates how a device sends data to the channel, which is then broadcast to each device listening to the channel.</p>
<p><img src="https://github.com/user-attachments/assets/e6367711-5d83-47f0-8371-5ba8fea9627c" alt="" width="70%" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md57"></a>
Overview - Protocol Implementation Layer</h1>
<h2><a class="anchor" id="autotoc_md58"></a>
ProtocolDevice</h2>
<p><code><a class="el" href="class_protocol_device.html">ProtocolDevice</a></code> extends <code><a class="el" href="class_device.html">Device</a></code> by adding basic protocol functionalities. Each message includes a type and payload, and received broadcast messages can be processed, such as filtering out messages not intended for the device, registering message handlers, sending messages, and listening for callbacks.</p>
<h2><a class="anchor" id="autotoc_md59"></a>
Server</h2>
<p>The <code><a class="el" href="class_server.html">Server</a></code> class is a specific implementation of <code><a class="el" href="class_protocol_device.html">ProtocolDevice</a></code>, representing a central server device. It handles server-related behaviors, such as listening for login requests and handling robot charging requests. The server can manage all devices, which prioritize communication with the server unless authorized otherwise. The server does not manage any devices at startup; devices must log in to the server to be managed. Each device has a login key, and only devices with valid keys are added to the specific device pool.</p>
<h2><a class="anchor" id="autotoc_md60"></a>
Robot</h2>
<p>The <code><a class="el" href="class_robot.html">Robot</a></code> class is a specific implementation of <code><a class="el" href="class_protocol_device.html">ProtocolDevice</a></code>, representing a robot device. It implements behaviors related to robots, such as logging in and requesting charging.</p>
<h2><a class="anchor" id="autotoc_md61"></a>
Station</h2>
<p>The <code><a class="el" href="class_station.html">Station</a></code> class is a specific implementation of <code><a class="el" href="class_protocol_device.html">ProtocolDevice</a></code>, representing a charging station device. It implements behaviors related to charging stations, such as logging in and handling charging requests.</p>
<p>For detailed information, please refer to the <a href="https://github.com/XLxiaoliaoGmail/Simulated-Local-Area-Network-Communication-System/blob/master/doc/API.md">API documentation</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
